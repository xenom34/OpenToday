# OpenToday/Tick
TL;DR
Тик, Тик-рейт, Поведение тика.

Система тиков является одной из фундаментальных понятий в OpenToday.
По сути тик можно сравнить с сердцебиением и кровообращением у животных. Каждую секунду приложение
запускает тик и он в глубину проходнит по всему что может быть тикнуто. (Вкладки, айтеиы, уведомления айтемов).

Тик обеспечивает работоспособность уведомлений, сбасывание состояния 'Eжедневной галочки', работу 'Группы с Фильтром(FilterGroup)'

Рассмотрим небольшой пример.
У пользователя есть 2 вкладки, в первой вкладке есть 'Eжедневная галочка #1' и 'Текст #2'.
Во второй у пользователя хранится 'Группа с Фильтром #3', внутри которой есть 'Ежедневная галочка #4' и 'Текст #5'(с уведомлением)

Теперь рассмотрим отдельно взятый тик. Я напомню каждую секунду весь рассматриваемый процесс будет повторяться. Это важно.
Также важно что для работы уведомлений в фоне, приложение планирует "Персоональный тик" в AlarmManager (с.м. "Персоональный тик")
Итак тик проходится по вкладкам, сначала тикнется первая вкладка, она в свою очередь тикнет 'Ежедневную галочку #1' которая в
свою очередь сбросится, если текущий день не равен дню последнего сброса.
Далее тикнется 'Текст #2', у текста отсутствует функционал тика, зато у родителя Текста, а именно Айтема(родительский класс всех айтемов)
есть функционал тика по тиканью уведомлений. Но и тут провал, уведомлений у Текста #2 нету.

Теперь пришло время тика второй вкладки
Она тикнет 'Группу с Фильтром #3' которая в свою очередь, в зависимости от настроенного в ней "Поведения тика" тикнет айтемы внутри.
Допустим поведение тика установлено на: ACTIVE (тикать только активных), а также допустим что все фильтры выдают зелёный
сигнал, тоесть оба айтема внутри являются активными.
Итак сначала тикниться 'Ежедневная галочка #4', причём ВАЖНО! ежедневная галочка тикнет часть кода отвечающую за обновление
галочки даже если бы в Группе с Фильтром этот айтем был бы неактивен, но уведомления галочки будут тикнуты только если
айтем был активен.
А моментом далее тикнется и 'Текст #5', который тикнет уведомления внутри, и по ситуации уведомления отправятся пользователю.

## Персоональный тик
Бывают моменты когда тикать все айтемы не нужно, допустим мы знаем у что у айтма N есть уведомление на 11:00
и мы хотим запланировать через Android AlarmManager тик конкретного айтема.
Тут есть нюанс если мы тикнем конкретно этот айтем, то если он находится внутри FilterGroup фильтры будут полностью
проигнорированы, поэтому для уведомлений используется разновидность персоонального тика "Тик по пути".
Этот тик ограничивает разрешённые айтемы для тика только теми, что есть на пути к айтему N.
Соответственно если фильтры по пути дают красный сигнал, то и персоональный тик до своего адресата не дойдёт,
а если сигнал зелёный, то уведомление придёт моментально.